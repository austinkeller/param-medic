# param-medic
Param-Medic breathes new life into MS/MS database searches by optimizing search parameter settings for your data.

## Usage:

param-medic [--debug] \<spectra file\>+

## Description:

In shotgun proteomics analysis, search engines compare tandem mass spectrometry (MS/MS) spectra with theoretical spectra to make peptide-spectrum matches (PSMs). User-specified parameters are critical to search performance. In particular:

* Precursor mass tolerance defines the peptide candidates considered for each spectrum. 
* Fragment mass tolerance (or bin size) determines how close observed and theoretical fragments must be in order to be considered a match.

For each parameter, too loose a setting yields randomly high-scoring false PSMs, while too tight excludes true PSMs. 

Param-Medic finds pairs of spectra that are likely to have been generated by the same peptide and uses these pairs to infer optimal parameters for search with Comet, Tide and other search engines. If multiple files are specified, they will be processed together. 

Param-Medic may fail if two few paired spectra are discovered, or if precursor m/z values appear to be artificially manipulated. 

With permission, Param-Medic makes use of code repurposed from Jacob Schreiber's [Pomegranate](https://github.com/jmschrei/pomegranate) mixture-modeling software.

## Input

* \<spectra file\>+: The path to one or more files from which to parse fragmentation spectra, in .mzML or .ms2 format.  

##Output

Estimated parameter values for precursor mass tolerance (in ppm) and fragment bin size (in Th), as well as the standard deviations of the estimated error distributions for precursor and fragment masses.

##Options

* --min-precursor-mz: minimum precursor m/z value to use
* --max-precursor-mz: maximum precursor m/z value to use
* --min-frag-mz: minimum fragment m/z value to use
* --max-frag-mz: maximum fragment m/z value to use
* --max-precursor-deltappm: maximum ppm distance between precursor m/z values to consider two scans potentially generated by the same peptide
* --charge: charge state to consider MS/MS spectra from
* --min-scan-fragpeaks: Minimum fragment peaks an MS/MS scan must contain to be considered
* --topn-fragpeaks: number of most-intense fragment peaks to consider, per MS/MS spectrum
* --min-common-fragpeaks: number of the most-intense peaks that two spectra must share in order to be potentially generated by the same peptide
* --pair-topn-fragpeaks: number of fragment peaks per spectrum pair to be used in fragment error estimation
* --max-scan-separation: maximum number of scans two spectra can be separated by in order to be considered potentially generated by the same peptide
* --min-peakpairs: minimum number of peak pairs (for precursor or fragment) that must be successfully paired in order to attempt to estimate error distribution
* --debug: If this flag is set, verbose debug logging will be enabled.
